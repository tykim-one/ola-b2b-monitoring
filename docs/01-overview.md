# 프로젝트 개요

## OLA B2B Monitoring이란?

OLA B2B Monitoring은 **B2B 고객사에 제공하는 AI 챗봇 서비스의 품질을 모니터링**하는 대시보드 시스템입니다.

### 한 줄 요약
> "AI 챗봇이 고객에게 잘 대답하고 있는지 확인하고, 문제를 조기에 발견하는 관제 시스템"

---

## 왜 이 시스템이 필요한가요?

### 문제 상황
B2B 서비스로 AI 챗봇을 제공할 때 다음과 같은 질문이 생깁니다:

- "우리 AI가 고객 질문에 **제대로 답변**하고 있나?"
- "어떤 테넌트(고객사)가 **가장 많이 사용**하나?"
- "이번 달 AI 사용 **비용**이 얼마나 나올까?"
- "고객들이 **어떤 질문**을 가장 많이 하나?"
- "답변 품질이 **떨어지면** 바로 알 수 있나?"

### 해결책
OLA B2B Monitoring은 이 모든 질문에 답합니다:

| 질문 | 제공 기능 |
|------|----------|
| 답변 품질 확인 | 자동 품질 분석, 감정 분석 |
| 사용량 파악 | 테넌트별 사용량 대시보드 |
| 비용 예측 | 일별 비용 트렌드 차트 |
| 질문 패턴 분석 | FAQ 후보 자동 추출 |
| 이상 탐지 | 실시간 알림 (Slack 연동) |

---

## 시스템 구성

```
┌─────────────────────────────────────────────────────────────────┐
│                        사용자 (웹 브라우저)                        │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                     프론트엔드 (Next.js)                          │
│   • 대시보드 화면                                                  │
│   • 차트, 테이블, KPI 카드                                         │
│   • 관리자 기능 (사용자, 역할 관리)                                  │
│   • AI 챗봇 (Ctrl+K로 열기)                                       │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                      백엔드 (NestJS)                              │
│   • REST API 제공                                                │
│   • 데이터 조회 및 가공                                            │
│   • 인증/인가 (JWT)                                               │
│   • 배치 분석 스케줄링                                             │
└─────────────────────────────────────────────────────────────────┘
                                │
                    ┌───────────┼───────────┐
                    ▼           ▼           ▼
┌──────────────┐  ┌──────────────┐  ┌──────────────┐
│   BigQuery   │  │    SQLite    │  │   Gemini     │
│  (로그 저장)  │  │ (관리자 DB)  │  │   (AI 분석)  │
└──────────────┘  └──────────────┘  └──────────────┘
```

### 각 구성요소 역할

| 구성요소 | 역할 | 설명 |
|---------|------|------|
| **프론트엔드** | 화면 표시 | 사용자가 보는 웹 페이지 |
| **백엔드** | 데이터 처리 | API 요청 처리, 비즈니스 로직 |
| **BigQuery** | 로그 저장 | 모든 AI 대화 기록 저장 (Google Cloud) |
| **SQLite** | 관리 데이터 | 사용자 계정, 역할, 분석 결과 등 |
| **Gemini** | AI 분석 | 품질 평가, 챗봇 응답 생성 |

---

## 주요 기능 한눈에 보기

### 1. 실시간 모니터링
- **KPI 카드**: 요청 수, 성공률, 토큰 사용량, 활성 테넌트
- **시간대별 트래픽**: 언제 사용량이 많은지 파악
- **사용량 히트맵**: 요일×시간별 패턴 시각화

### 2. 비즈니스 분석
- **테넌트별 사용량**: 어느 고객이 가장 많이 쓰는지
- **비용 트렌드**: 일별 API 비용 추이
- **사용자 행동 분석**: 개인별 질문 패턴

### 3. 품질 관리
- **토큰 효율성**: 입력 대비 출력 토큰 비율
- **FAQ 패턴**: 자주 묻는 질문 자동 추출
- **감정 분석**: 부정적 반응 조기 감지

### 4. 자동화 기능
- **배치 분석**: 매일 자동 품질 검사
- **이상 탐지**: 비정상 패턴 자동 알림
- **스케줄링**: 원하는 시간에 분석 실행

### 5. AI 어시스턴트
- **플로팅 챗봇**: Ctrl+K로 언제든 질문
- **분석 세션**: 데이터에 대해 AI와 대화

---

## 기술 스택

| 영역 | 기술 | 설명 |
|------|------|------|
| **프론트엔드** | Next.js 16, React 19 | 최신 웹 프레임워크 |
| **백엔드** | NestJS | Node.js 기반 서버 프레임워크 |
| **데이터베이스** | BigQuery, SQLite | 로그 분석용 + 관리용 |
| **AI** | Google Gemini | 품질 분석, 챗봇 응답 |
| **차트** | Recharts | 데이터 시각화 |
| **인증** | JWT + RBAC | 보안 및 접근 제어 |
| **알림** | Slack Webhook | 실시간 알림 |

---

## 대상 사용자

### 운영 담당자
- 실시간 대시보드로 서비스 상태 모니터링
- 이상 징후 발생 시 빠른 대응

### 품질 관리자
- 배치 분석으로 주기적 품질 점검
- 감정 분석으로 불만 사항 조기 발견

### 기획자
- 사용 패턴 분석으로 기능 개선 방향 도출
- FAQ 패턴으로 지식 베이스 구축

### 영업 담당자
- 테넌트별 사용량 데이터로 고객 관리
- 비용 트렌드로 요금제 협의

---

## 시작하기

### 로컬 환경 실행
```bash
# 1. 저장소 클론
git clone [repository-url]
cd ola-b2b-monitoring

# 2. 의존성 설치
pnpm install

# 3. 환경 변수 설정
cp apps/backend/.env.example apps/backend/.env
# .env 파일에 필요한 값 입력

# 4. 데이터베이스 초기화
cd apps/backend
pnpm prisma:generate
pnpm prisma db push
pnpm prisma:seed

# 5. 실행
cd ../..
pnpm dev:all
```

### 접속
- **대시보드**: http://localhost:3001
- **API 서버**: http://localhost:3000
- **기본 계정**: admin@ola.com / admin123

---

## 관련 문서

- [기능 가이드](./02-features.md) - 화면별 상세 사용법
- [용어 사전](./07-glossary.md) - 모르는 용어 확인
- [시스템 아키텍처](./03-architecture.md) - 기술적 구조 (개발자용)

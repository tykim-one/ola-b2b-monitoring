# 기능 가이드

OLA B2B Monitoring의 모든 기능을 화면별로 상세히 설명합니다.

---

## 목차
1. [로그인](#1-로그인)
2. [메인 대시보드](#2-메인-대시보드)
3. [비즈니스 대시보드](#3-비즈니스-대시보드)
4. [운영 대시보드](#4-운영-대시보드)
5. [품질 대시보드](#5-품질-대시보드)
6. [챗봇 품질 분석](#6-챗봇-품질-분석)
7. [사용자 분석](#7-사용자-분석)
8. [AI 성능](#8-ai-성능)
9. [관리자 기능](#9-관리자-기능)
10. [플로팅 AI 챗봇](#10-플로팅-ai-챗봇)

---

## 1. 로그인

### 경로
`/login`

### 설명
시스템에 접속하기 위한 로그인 화면입니다.

### 사용 방법
1. 이메일 주소 입력
2. 비밀번호 입력
3. "로그인" 버튼 클릭

### 주의사항
- 5회 연속 실패 시 **15분간 계정 잠금**
- 비밀번호 분실 시 관리자에게 문의

### 기본 계정
| 역할 | 이메일 | 비밀번호 |
|------|--------|----------|
| 관리자 | admin@ola.com | admin123 |

---

## 2. 메인 대시보드

### 경로
`/dashboard`

### 설명
시스템의 전체 현황을 한눈에 파악할 수 있는 메인 화면입니다.

### 주요 구성요소

#### KPI 카드 (상단)
| 지표 | 설명 |
|------|------|
| **총 요청 수** | 최근 24시간 동안의 API 요청 횟수 |
| **성공률** | 요청 중 정상 처리된 비율 (%) |
| **평균 토큰** | 요청당 평균 토큰 사용량 |
| **활성 테넌트** | 해당 기간 서비스를 이용한 고객 수 |

#### 시간대별 트래픽 (차트)
- X축: 시간 (0시~23시)
- Y축: 요청 수
- **용도**: 피크 시간대 파악, 서버 리소스 계획

#### 사용량 히트맵
- 요일(세로) × 시간(가로)의 격자
- 색상이 진할수록 사용량이 많음
- **용도**: 사용 패턴 파악, 점검 시간 결정

---

## 3. 비즈니스 대시보드

### 경로
`/dashboard/business`

### 설명
비즈니스 관점의 분석 데이터를 제공합니다. 테넌트(고객사)별 사용량과 비용을 파악합니다.

### 주요 구성요소

#### 테넌트별 사용량 (파이 차트)
- 각 테넌트가 전체 사용량에서 차지하는 비율
- 클릭하면 해당 테넌트 상세 정보
- **용도**: 주요 고객 파악, 자원 배분 계획

#### 일별 비용 트렌드 (라인 차트)
- X축: 날짜 (최근 30일)
- Y축: 예상 비용 (원)
- 입력/출력 토큰 비용 구분 표시
- **용도**: 비용 예측, 예산 관리

#### 테넌트 상세 테이블
| 컬럼 | 설명 |
|------|------|
| 테넌트 ID | 고객사 식별자 |
| 총 요청 | 해당 기간 요청 수 |
| 성공률 | 정상 처리 비율 |
| 총 토큰 | 사용된 토큰 수 |
| 에러 수 | 실패한 요청 수 |

---

## 4. 운영 대시보드

### 경로
`/dashboard/operations`

### 설명
서비스 운영 관점의 지표를 모니터링합니다.

### 주요 구성요소

#### 에러 분석
- 에러 유형별 발생 빈도
- 테넌트별 에러율 비교
- **용도**: 문제 조기 발견, 품질 관리

#### 응답 시간 분석
- 평균/최대/최소 응답 시간
- 시간대별 응답 시간 추이
- **용도**: 성능 모니터링, SLA 관리

---

## 5. 품질 대시보드

### 경로
`/dashboard/quality`

### 설명
AI 응답의 품질을 분석합니다. 토큰 효율성과 FAQ 패턴을 파악합니다.

### 주요 구성요소

#### 토큰 효율성 트렌드 (라인 차트)
- 일별 평균 효율성 (출력 토큰 / 입력 토큰)
- 높을수록 적은 입력으로 충분한 출력 생성
- **이상적 범위**: 2.0 ~ 4.0

#### 질문-응답 상관관계 (산점도)
- X축: 질문 길이 (토큰)
- Y축: 응답 길이 (토큰)
- **용도**: 응답 적절성 확인

#### FAQ 패턴 테이블 (반복 질문)
| 컬럼 | 설명 |
|------|------|
| 질문 패턴 | 자주 묻는 질문 내용 |
| 발생 횟수 | 해당 질문이 나온 횟수 |
| 고유 사용자 | 이 질문을 한 사용자 수 |
| 첫 발생 | 처음 등장한 날짜 |
| 마지막 발생 | 가장 최근 날짜 |

**활용 방법**: FAQ로 등록하면 더 빠르고 정확한 답변 가능

---

## 6. 챗봇 품질 분석

### 경로
`/dashboard/chatbot-quality`

### 설명
AI 챗봇의 품질을 심층 분석합니다. 사용자 만족도를 간접적으로 측정합니다.

### 주요 구성요소

#### 신규 패턴 (Emerging Patterns)
- 최근에 급증한 새로운 질문 유형
- **용도**: 트렌드 파악, 새로운 니즈 발견

#### 감정 분석 (Sentiment Analysis)
| 감정 | 설명 | 예시 키워드 |
|------|------|------------|
| 긍정 | 만족 표현 | "감사합니다", "좋아요" |
| 중립 | 일반 질문 | "어떻게", "무엇" |
| 부정 | 불만 표현 | "안돼", "왜", "이상해" |

#### 재질문 패턴 (Rephrased Queries)
- 같은 세션에서 비슷한 질문을 반복
- **의미**: 첫 답변이 만족스럽지 않음
- **조치**: 해당 유형 답변 품질 개선 필요

#### 세션 분석
| 지표 | 설명 |
|------|------|
| 평균 세션 길이 | 한 세션당 평균 대화 수 |
| 평균 응답 시간 | 질문~답변 소요 시간 |
| 세션 완료율 | 문제 해결 후 종료된 비율 |

---

## 7. 사용자 분석

### 경로
`/dashboard/user-analytics`

### 설명
개별 사용자의 행동 패턴을 분석합니다.

### 주요 구성요소

#### 사용자별 요청 수 (바 차트)
- 상위 N명의 사용자 요청 횟수
- **용도**: 헤비 유저 파악

#### 사용자별 토큰 사용량
- 사용자별 입력/출력 토큰 소비량
- **용도**: 비용 분석, 사용 패턴 파악

#### 사용자 목록
| 컬럼 | 설명 |
|------|------|
| 사용자 ID | 암호화된 사용자 식별자 |
| 총 요청 | 누적 요청 수 |
| 총 토큰 | 누적 토큰 사용량 |
| 마지막 활동 | 최근 사용 시간 |

#### 사용자 상세 (클릭 시)
- 해당 사용자의 모든 대화 이력
- 질문 패턴 분석
- 시간대별 사용 패턴

---

## 8. AI 성능

### 경로
`/dashboard/ai-performance`

### 설명
AI 모델의 성능 지표를 모니터링합니다.

### 주요 구성요소

#### 응답 시간 분포
- 응답 생성에 걸린 시간 분포
- 느린 응답 비율 확인

#### 토큰 사용 통계
- 평균/최대/최소 토큰 사용량
- 시간대별 토큰 사용 패턴

---

## 9. 관리자 기능

### 9.1 사용자 관리

#### 경로
`/dashboard/admin/users`

#### 기능
| 작업 | 설명 |
|------|------|
| 사용자 조회 | 등록된 모든 사용자 목록 |
| 사용자 추가 | 새 계정 생성 |
| 사용자 수정 | 이름, 역할 변경 |
| 사용자 삭제 | 계정 삭제 |
| 상태 변경 | 활성/비활성 토글 |

---

### 9.2 역할 관리

#### 경로
`/dashboard/admin/roles`

#### 기본 역할
| 역할 | 권한 | 설명 |
|------|------|------|
| admin | 모든 권한 | 시스템 관리자 |
| analyst | 분석 권한 | 데이터 분석 담당자 |
| viewer | 읽기 권한 | 대시보드 열람만 가능 |

#### 권한 형식
`리소스:동작` 형태로 구성됩니다.
- `admin:read` - 관리자 메뉴 읽기
- `admin:write` - 관리자 메뉴 수정
- `analysis:read` - 분석 결과 조회
- `analysis:write` - 분석 실행

---

### 9.3 필터 관리

#### 경로
`/dashboard/admin/filters`

#### 설명
자주 사용하는 필터 조건을 저장하고 재사용합니다.

#### 필터 조건
| 조건 | 설명 |
|------|------|
| 날짜 범위 | 시작일 ~ 종료일 |
| 테넌트 | 특정 고객사 선택 |
| 심각도 | INFO / WARN / ERROR |
| 토큰 범위 | 최소 ~ 최대 토큰 |
| 검색어 | 키워드 검색 |

---

### 9.4 AI 분석 세션

#### 경로
`/dashboard/admin/analysis`

#### 설명
AI와 대화하면서 데이터를 분석합니다.

#### 사용 방법
1. "새 세션" 버튼 클릭
2. 세션 제목 입력
3. 분석하고 싶은 내용 질문
4. AI의 답변을 바탕으로 추가 질문

#### 예시 질문
- "지난 주 에러율이 가장 높았던 테넌트는?"
- "토큰 사용량이 급증한 원인을 분석해줘"
- "FAQ로 등록하면 좋을 질문들을 추천해줘"

---

### 9.5 배치 분석

#### 경로
`/dashboard/admin/batch-analysis`

#### 설명
대량의 대화 로그를 자동으로 품질 분석합니다.

#### 하위 메뉴
| 메뉴 | 경로 | 설명 |
|------|------|------|
| 작업 목록 | `/batch-analysis` | 분석 작업 생성/관리 |
| 결과 조회 | `/batch-analysis/[id]` | 분석 결과 상세 |
| 프롬프트 | `/batch-analysis/prompts` | 분석 템플릿 관리 |
| 스케줄 | `/batch-analysis/schedules` | 자동 실행 설정 |
| 이슈 빈도 | `/batch-analysis/issue-frequency` | 반복 이슈 분석 |

#### 작업 생성
1. "새 작업" 버튼 클릭
2. 설정 입력:
   - **대상 날짜**: 분석할 날짜
   - **테넌트**: 특정 테넌트 또는 전체
   - **샘플 크기**: 분석할 로그 수 (10~500)
   - **프롬프트**: 사용할 분석 템플릿
3. "생성" 버튼 클릭
4. "실행" 버튼으로 분석 시작

#### 분석 결과 항목
| 항목 | 범위 | 설명 |
|------|------|------|
| 품질 점수 | 1~10 | 종합 품질 평가 |
| 관련성 | 1~10 | 질문과 답변의 관련도 |
| 완결성 | 1~10 | 답변의 충분성 |
| 명확성 | 1~10 | 답변의 이해 용이성 |
| 감정 | 긍정/중립/부정 | 사용자 감정 분류 |
| 이슈 | 텍스트 | 발견된 문제점 |
| 개선점 | 텍스트 | 개선 제안 |

#### 스케줄 설정
| 설정 | 설명 |
|------|------|
| 이름 | 스케줄 식별 이름 |
| 시간 | 실행 시간 (시:분) |
| 요일 | 실행할 요일 선택 |
| 테넌트 | 대상 테넌트 |
| 샘플 크기 | 분석할 로그 수 |

---

## 10. 플로팅 AI 챗봇

### 설명
화면 우하단에 있는 AI 어시스턴트입니다. 어느 페이지에서든 질문할 수 있습니다.

### 열기/닫기
- **단축키**: `Ctrl + K` (macOS: `Cmd + K`)
- **마우스**: 우하단 챗봇 아이콘 클릭

### 특징
- **페이지 인식**: 현재 보고 있는 페이지에 맞는 답변
- **세션 유지**: 대화 내용이 유지됨
- **마크다운 지원**: 답변에 표, 목록, 코드 포함 가능

### 활용 예시

#### 대시보드 페이지에서
> "현재 KPI 중 주의가 필요한 항목이 있어?"

#### 품질 페이지에서
> "FAQ 패턴 중 가장 시급하게 대응해야 할 것은?"

#### 비즈니스 페이지에서
> "이번 달 예상 비용을 지난달과 비교해줘"

### 세션 초기화
- 채팅창 상단의 "대화 지우기" 버튼 클릭

---

## 관련 문서

- [프로젝트 개요](./01-overview.md) - 시스템 소개
- [용어 사전](./07-glossary.md) - 용어 설명
- [데이터 흐름도](./06-data-flow.md) - 시스템 동작 원리
